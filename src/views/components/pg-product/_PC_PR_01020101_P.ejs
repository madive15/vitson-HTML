<% const _src = srcPath; const _public = publicPath; %>
<!-- 옵션선택 modal -->
<!-- prettier-ignore -->
<div class="vits-modal-product-modal vits-options-modal" 
  data-toggle-scope
  
  id="vits-options-modal"
  data-layer-box="vits-options-modal"
  data-layer-type="slide-right"
  data-layer-lock="true"
  data-layer-outside="true"
  role="dialog"
  aria-modal="true"
  aria-labelledby="options-title"
>
  <div class="vits-modal-product-dim" aria-hidden="true" data-layer-close></div>

  <div class="vits-modal-product-panel">
    <div class="vits-modal-product-head">
      <h2 id="options-title">다른규격 선택</h2>
      <!-- prettier-ignore -->
      <%- include(`${_src}/views/components/button/button.ejs`, {
        size:'xs', 
        variant: 'outline-secondary', 
        text:'필터', 
        iconLeft: true, 
        iconName: 'ic-filter',
        attrs: 'data-toggle-btn aria-expanded="false" data-toggle-group-except="true" data-toggle-target="filter-box" '
      }) %>
      <div class="vits-modal-product-close">
        <button type="button" class="icon" aria-label="닫기" data-layer-close>
          <i class="ic ic-x"></i>
        </button>
      </div>
    </div>
    <div class="vits-modal-product-body vits-scrollbar">
      <!-- s: 필터 영역 -->
      <div class="vits-modal-product-content filter-box" data-toggle-box="filter-box">
        <div class="vits-scrollbar">
          <div class="filter-box-list">
            <!-- 반복문 시작 -->
            <% for (let itemIndex = 0; itemIndex < 6; itemIndex += 1) { %>
            <div class="filter-box-item">
              <div class="filter-item-title">
                <span class="title-text">규격(SQ)</span>
                <button type="button" class="vits-filter-more" aria-expanded="false">
                  <span class="text">더보기</span>
                  <span class="icon"><i class="ic ic-arrow-down-fill"></i></span>
                </button>
              </div>
              <div class="filter-item-content">
                <div class="filter-chip-group" aria-label="금지 규칙">
                  <%
                    const chipTexts = [
                      '사진촬영금지',
                      '포엑스사인/통제구역관계자외출입금지',
                      '당기세요(FULL)',
                      '화장실 남녀공용',
                      '포엑스사인/통제구역관계자외출입금지',
                      '당기세요(FULL)',
                      '사진촬영금지',
                      '사진촬영금지',
                    ];
                  %>
                  <% for (let i = 0; i < 6; i += 1) { %>
                  <button
                    type="button"
                    class="filter-chip<%= i === 0 ? ' is-active' : '' %>"
                    <%= i === 3 ? 'disabled' : '' %>
                    aria-pressed="<%= i === 0 ? 'true' : 'false' %>"
                  >
                    <%= chipTexts[i] %>
                  </button>
                  <% } %>
                </div>
              </div>
            </div>
            <% } %>
          </div>
        </div>  
        <div class="filter-box-buttons">
          <%- include(`${_src}/views/components/button/button.ejs`, { size: 'md', variant: 'outline-secondary', text: '초기화', type: 'reset' }) %>
          <%- include(`${_src}/views/components/button/button.ejs`, { size: 'md', variant: 'primary', text: '필터적용' }) %>
        </div>     
      </div>
      <!-- e: 필터 영역 -->

      <!-- s: 옵션 목록 -->
      <div class="vits-modal-product-content">
        <div class="vits-scrollbar">
          <ul class="product-option-list">
            <!-- 일시품절은 is-sold-out 클래스 추가 -->
            <% for (let i = 0; i < 7; i += 1) { %>
            <li>
              <button type="button" class="product-option-item<%= i === 4 ? ' is-sold-out' : '' %>">
                <span class="product-option-thumb">
                  <img
                    src="https://vitsonimg.co.kr/images/products/53823%20(2).jpg"
                    alt="서경 더블 OPP 접착테이프 투명"
                  />
                </span>

                <div class="product-option-info">
                  <span class="product-option-title">
                    서경
                    <span class="product-option-code">63531</span>
                  </span>

                  <span class="product-option-name"> 더블 OPP 접착테이프 투명 (초강력 접착제) </span>

                  <span class="product-option-spec"> 2.6mm (약~5kg) </span>

                  <div class="product-option-tags">
                    <%- include(`${_src}/views/components/label/product-flags.ejs`, {today: true,tomorrow: true,hot: true }) %>
                    <%- include(`${_src}/views/components/label/product-promo-badge.ejs`, { text: '무료배송', variant: 'free-ship' }) %>
                  </div>
                </div>

                <span class="product-option-price">
                  <span class="product-option-original">320,000원</span>
                  <span class="product-option-discount">
                    <span class="discount">30%</span>
                    <span class="amount">224,900원</span>
                  </span>
                </span>
              </button>
            </li>
            <% } %>
          </ul>
        </div>
      </div>
      <!-- e: 옵션 목록 -->
    </div>
  </div>
</div>
