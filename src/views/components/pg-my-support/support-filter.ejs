<!-- prettier-ignore -->
<% /**
  * 마이페이지 지원/문의 필터 컴포넌트 (type별)
  * @param {string} [type] - ''(기본) | 'bulk' | 'survey' (필요 시 추가)
  * @param {string} [srcPath] - include 경로용
  * @param {string} [publicPath] - public 경로용
  * type 없음: 조회기간/연도/조회하기 등 기본 필터
  * type=bulk: 일괄 처리용 필터 영역
  * type=survey: 기본 필터 + 상태 필터 (전체, 진행중, 종료)
  */ %>
<% const _src = typeof srcPath !== 'undefined' ? srcPath : ''; const _public = typeof publicPath !== 'undefined' ? publicPath : ''; %>
<% const _type = typeof type !== 'undefined' ? type : ''; %>

<!-- 대량구매문의 필터 -->
<% if (_type === 'bulk') { %>
<!-- prettier-ignore -->
<%
  const _totalCount = typeof totalCount !== 'undefined' ? totalCount : 23;
  const _pageSizeOptions = [
    { value: '10', text: '10개씩 보기' },
    { value: '20', text: '20개씩 보기' },
    { value: '30', text: '30개씩 보기' }
  ];
  const _pageSize = (typeof pageSize !== 'undefined' && pageSize !== null) ? String(pageSize) : '10';
%>

<div class="vits-mypage-support-toolbar">
  <div class="support-toolbar-left">
    <p class="support-toolbar-count">총 <b><%= _totalCount %></b>개</p>
    <div class="support-toolbar-size">
      <!-- prettier-ignore -->
      <%- include(`${_src}/views/components/form/select.ejs`, {
        srcPath: _src,
        publicPath: _public,
        id: 'support-page-size',
        name: 'pageSize',
        placeholder: _pageSizeOptions[0].text,
        options: _pageSizeOptions,
        value: _pageSize,
        disabled: false,
        className: 'type-ghost color-secondary'
      }) %>
    </div>
  </div>
</div>

<% } else { %>
<!-- #default: type 없음 (설문조사, 세금계산서 조회) -->
<div class="vits-mypage-query">
  <div class="mypage-query-fields">
    <% if (_type === 'survey') { %>
    <!-- 설문조사 상태 필터 -->
    <dl class="mypage-query-status">
      <dt class="mypage-query-label">상태</dt>
      <dd class="mypage-query-control">
        <!-- prettier-ignore -->
        <%- include(`${_src}/views/components/form/select.ejs`, {
            id: 'support-status-select',
            name: 'status',
            placeholder: '전체',
            options: [
              { value: '', text: '전체' },
              { value: 'progress', text: '진행중' },
              { value: 'closed', text: '종료' }
            ],
            value: (typeof status !== 'undefined' && status !== null) ? String(status) : '',
            disabled: false
          }) %>
      </dd>
    </dl>
    <% } %>

    <dl class="mypage-query-period">
      <dt class="mypage-query-label">조회 기간</dt>
      <dd class="mypage-query-control">
        <div class="mypage-query-period-buttons" data-ui="period-btn-group" data-group="order">
          <button type="button" data-ui="period-btn" data-value="1m" class="mypage-query-btn">
            <span class="text">전월</span>
          </button>
          <button type="button" data-ui="period-btn" data-value="current" class="mypage-query-btn" aria-pressed="false">
            <span class="text">당월</span>
          </button>
          <button type="button" data-ui="period-btn" data-value="6m" class="mypage-query-btn" aria-pressed="false">
            <span class="text">6개월</span>
          </button>
          <button type="button" data-ui="period-btn" data-value="12m" class="mypage-query-btn" aria-pressed="false">
            <span class="text">12개월</span>
          </button>
        </div>
      </dd>
      <dd class="mypage-query-control mypage-query-period-range">
        <!-- prettier-ignore -->
        <%- include(`${_src}/views/components/kendo/kendo-datepicker.ejs`, {
            options: {
              id: 'testPickerCouponRange',
              name: 'couponDate',
              size: 'm',
              placeholder: '시작일 ~ 종료일'
            }
          }) %>
      </dd>
      <dd class="mypage-query-control mypage-query-select-year">
        <!-- prettier-ignore -->
        <%- include(`${_src}/views/components/form/select.ejs`, {
            id: 'support-year-select',
            name: 'year',
            placeholder: '연도 선택',
            options: [
              { value: '2025', text: '2025' },
              { value: '2024', text: '2024' },
              { value: '2023', text: '2023' },
              { value: '2022', text: '2022' },
              { value: '2021', text: '2021' },
              { value: '2020', text: '2020' },
              { value: '2019', text: '2019' },
              { value: '2018', text: '2018' },
              { value: '2017', text: '2017' },
              { value: '2016', text: '2016' },
              { value: '2015', text: '2015' },
            ],
            value: (typeof year !== 'undefined' && year !== null) ? String(year) : '연도 선택',
            disabled: false
          }) %>
      </dd>
    </dl>

    <div class="mypage-query-buttons">
      <!-- prettier-ignore -->
      <%- include(`${_src}/views/components/button/button.ejs`, {
          size: 'sm',
          variant: 'secondary',
          text: '조회하기',
          className: 'mypage-search-btn'
        }) %>
    </div>
  </div>
</div>
<% } %>
