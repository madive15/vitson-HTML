<% const _src = srcPath; const _public = publicPath; %>
<!DOCTYPE html>
<!-- 
  [D] vits-scope: 스크롤바 커스텀 범위 제한(운영 전역 scrollbar 충돌 방지)
    - 문서 스크롤 주체가 html/body로 달라질 수 있어 둘 다 클래스 적용 
  -->
<html lang="ko" class="vits-scope">
  <%- include(`${_src}/views/layout/head.ejs`, {meta_title: '템플릿 메인'}) %>
  <!-- [D] vits-scope 적용(상단 주석 참고) -->
  <body class="vits-scope">
    <!-- S: Skip Navigation -->
    <a href="#skipNav" class="skip-nav">본문 바로가기</a>
    <!-- E: Skip Navigation -->

    <!-- S: vits-wrapper -->
    <section class="vits-wrapper vits-wrapper-{1depth 이름}">
      <%- include(`${_src}/views/layout/header.ejs`) %>

      <!-- S: vits-main -->
      <main id="skipNav" class="vits-main">
        <!-- S: vits-wrap -->
        <div class="vits-wrap">
          <!-- S: vits-grid -->
          <div class="vits-grid">
            <!-- S: vits-grid-side-left -->
            <!-- <aside class="vits-grid-side vits-grid-side-left"></aside> -->
            <!-- E: vits-grid-side-left -->

            <!-- S: vits-grid-main -->
            <div class="vits-grid-main">
              <!-- 메인 컨텐츠 -->
              <!-- s: PC_PR_01010101 -->
              <div
                class="vits-breadcrumb"
                style="background-color: green; display: flex; flex-direction: row; justify-content: space-between"
              >
                <div class="breadcrumb-box">
                  <ul>
                    <li class="breadcrumb-item">
                      <div class="">홈</div>
                    </li>
                    <li class="breadcrumb-item">
                      <div class="">팬던트/램프용홈조명</div>
                    </li>
                    <li class="breadcrumb-item">
                      <div class="">LED용</div>
                    </li>
                  </ul>
                </div>
                <div class="">상품코드 492759</div>
              </div>
              <div
                class="vits-product-detail-container"
                style="display: flex; flex-direction: row; gap: 54px; height: 900px"
              >
                <div class="vits-detail-gallery" style="width: 596px; background-color: blue; flex-direction: row">
                  <div class="deal_view">
                    <% const galleryImages = [ 
                      {
                        src:'https://vitsonimg.co.kr/images/productsNew/80/애니타임%20민트%2080636.jpg', 
                        large: 'https://vitsonimg.co.kr/images/productsNew/80/deal_info애니타임 민트 80636.jpg', alt: '애니타임민트' }, 
                      { 
                        src: 'https://vitsonimg.co.kr/images/productsNew/80/80636.jpg', 
                        large: 'https://vitsonimg.co.kr/images/productsNew/80/80636.jpg', 
                        alt: '이미지 1' 
                      }, 
                      { 
                        src:'https://vitsonimg.co.kr/images/productsNew/80/80636.jpg', 
                        large: 'https://vitsonimg.co.kr/images/productsNew/80/80636.jpg', 
                        alt: '이미지 2' }]; %>

                    <div class="deal_gallery">
                      <!-- 메인 이미지 -->
                      <div class="swiper-container gallery-top">
                        <div class="swiper-wrapper">
                          <% galleryImages.forEach(image => { %>
                          <div class="swiper-slide">
                            <img
                              src="<%= image.src %>"
                              alt="<%= image.alt %>"
                              class="pointer original_image"
                              width="600"
                              height="600"
                              data-large="<%= image.large %>"
                              onerror="this.src = '/resources/img/preparing.jpg'"
                            />
                            <div class="zoom_lens">
                              <div class="zoom_lens_search"></div>
                            </div>
                          </div>
                          <% }); %>
                        </div>
                      </div>

                      <!-- 썸네일 -->
                      <div class="swiper-container gallery-thumbs">
                        <div class="swiper-wrapper">
                          <% galleryImages.forEach(image => { %>
                          <div class="swiper-slide">
                            <img
                              src="<%= image.src %>"
                              alt="<%= image.alt %>"
                              width="100"
                              height="100"
                              onerror="this.src = '/resources/img/preparing.jpg'"
                            />
                          </div>
                          <% }); %>
                        </div>

                        <div class="swiper-button-next" aria-label="다음"></div>
                        <div class="swiper-button-prev" aria-label="이전"></div>
                      </div>

                      <!-- 돋보기 확대 영역 -->
                      <div class="magnified_container">
                        <img class="magnified_image" alt="확대된 이미지" />
                      </div>
                    </div>
                  </div>
                  <div class="deal_info" style="flex: 1; background-color: red"></div>
                </div>
              </div>
              <!-- e: PC_PR_01010101   -->
            </div>
            <!-- E: vits-grid-main -->

            <!-- S: vits-grid-right -->
            <!-- <aside class="vits-grid-side vits-grid-side-right"></aside> -->
            <!-- E: vits-grid-right -->
          </div>
          <!-- E: vits-grid -->
        </div>
        <!-- E: vits-wrap -->
      </main>
      <!-- E: vits-main -->

      <%- include(`${_src}/views/layout/footer.ejs`) %>
    </section>
    <!-- E: vits-wrapper -->
    <%- include(`${_src}/views/layout/footer.links.ejs`) %>

    <!-- Deal Gallery  -->
  </body>
</html>
