<% const _src = srcPath; const _public = publicPath; %>
<!DOCTYPE html>
<html lang="ko" class="vits-scope">
  <%- include(`${_src}/views/layout/head.ejs`, { meta_title: '계정 등록 팝업' }) %>
  <body class="vits-scope">
    <a href="#skipNav" class="skip-nav">본문 바로가기</a>
    <section class="vits-wrapper">
      <%- include(`${_src}/views/layout/header.ejs`) %>

      <main id="skipNav" class="vits-main">
        <div class="vits-wrap">
          <div class="vits-grid">
            <div class="vits-grid-main vits-main-plp">
              <div class="vits-inner" style="padding: 100px 0">
                <button
                  type="button"
                  class="vits-btn-md vits-btn-outline-secondary"
                  onclick="VitsKendoWindow.open('accountRegisterModal')"
                >
                  <span class="text">계정 등록 팝업</span>
                </button>
              </div>

              <!-- prettier-ignore -->
              <% const winModal = {
                id: 'accountRegisterModal',
                size: '520',
                title: '계정 수정',
                opt: { draggable: true },
                contentPath: `${_src}/views/pages/kendo-window/account/kw-PC_MY_05070201_P.ejs`,
                buttons: [
                  { text: '취소', variant: 'secondary', action: 'close' },
                  { text: '저장', variant: 'primary', action: 'close' }
                ]
              }; %>
              <%- include(`${_src}/views/components/kendo/kendo-window.ejs`, winModal) %>
            </div>
          </div>
        </div>
      </main>

      <%- include(`${_src}/views/layout/footer.ejs`) %>
    </section>

    <%- include(`${_src}/views/layout/footer.links.ejs`) %>

    <script>
      // [REMOVE] 퍼블 확인용 임시 코드 - 개발 적용 시 제거
      const urlParams = new URLSearchParams(window.location.search);
      const type = urlParams.get('type');

      // type 파라미터가 'account'일 때
      if (type === 'account') {
        // data-hide 처리: display none
        document.querySelectorAll('[data-hide]').forEach(function (el) {
          el.style.display = 'none';
        });

        // 모달 타이틀 변경
        const modalTitle = document.querySelector('#accountRegisterModal .vits-modal-title');
        if (modalTitle) modalTitle.textContent = '계정 등록';

        // 버튼 텍스트 변경: 저장 -> 등록 (primary 버튼 기준)
        const primaryBtnText = document.querySelector('#accountRegisterModal .vits-modal-btn-primary .text');
        if (primaryBtnText) primaryBtnText.textContent = '등록';
      }
    </script>
  </body>
</html>
