<% const _src = srcPath; const _public = publicPath; %>
<!-- prettier-ignore -->

<!DOCTYPE html>
<html lang="ko" class="vm-scope">
  <%- include(`${_src}/views/layout-mo/header/head.ejs`, { meta_title: typeof type !== 'undefined' && type === 'isvm' ? 'ISVM 계정전환 완료' : '회원가입 완료' }) %>
  <body class="vm-scope">
    <!-- S: Skip Navigation -->
    <a href="#skipNav" class="skip-nav">본문 바로가기</a>
    <!-- E: Skip Navigation -->

    <!-- S: vm-wrapper -->
    <section class="vm-wrapper">
      <!-- S: vm-wrap -->
      <div class="vm-wrap wrap-auth-login">
        <!-- S: vm-content-wrap -->
        <div class="vm-content-wrap">
          <!-- prettier-ignore -->
          <%- include(`${_src}/views/layout-mo/header/index.ejs`, { type: 'nav-bar-logo' }) %>

          <!-- S: vm-main -->
          <main id="skipNav" class="vm-main">
            <div class="vm-main-content main-content-auth-login">
              <section class="vm-login-content vm-signup">
                <div class="vm-signup-form-wrap join-complete">
                  <!-- S: 가입 완료 카드 -->
                  <div class="join-complete-card">
                    <!-- prettier-ignore -->
                    <%- include(`${_src}/views/components/empty-state.ejs`, {
                      iconName: 'user',
                      title: typeof type !== 'undefined' && type === 'isvm' ? '전환 신청 완료' : '회원 가입 완료',
                      desc: typeof type !== 'undefined' && type === 'isvm' ? 'ISVM 전환 신청이 정상적으로 접수되었습니다.\n담당자 승인 완료 후 ISVM 서비스 이용 가능합니다.' : '비츠온엠알오 회원 가입이 완료되었습니다.',
                    }) %>

                    <!-- S: 메인 링크 -->
                    <%- include(`${_src}/views/components/button/text-link.ejs`, { href: '#!', label: '메인 화면 가기', target: '_blank' }) %>
                    <!-- E: 메인 링크 -->
                  <!-- E: 가입 완료 카드 -->

                  <!-- S: 액션 버튼 -->
                  <div class="join-complete-actions">
                    <!-- prettier-ignore -->
                    <%- include(`${_src}/views/components/button/button.ejs`,{
                      type: 'button',
                      size: 'xl',
                      variant: 'primary',
                      text: typeof type !== 'undefined' && type === 'isvm' ? 'isvm 이동하기' : '로그인',
                      className: 'join-complete-btn-login',
                    }) %>
                  </div>
                  <!-- E: 액션 버튼 -->
                </div>

                <% if (typeof type === 'undefined' || type !== 'isvm') { %>
                <!-- S: 고객 지원 -->
                <div id="auth-contact-section">
                <%- include(`${_src}/views/components/pg-auth/auth-contact.ejs`) %>
                </div>
                <!-- E: 고객 지원 -->
                <% } %>
              </section>
            </div>
          </main>
          <!-- E: vm-main -->

          <%- include(`${_src}/views/layout-mo/footer/index.ejs`) %>
        </div>
        <!-- E: vm-content-wrap -->

        <!-- S: vm-bottom-group --><!-- E: vm-bottom-group -->

        <!-- S: 팝업 영역 -->
        <!-- E: 팝업 영역 -->
      </div>
      <!-- E: vm-wrap -->
    </section>
    <!-- E: vm-wrapper -->

    <%- include(`${_src}/views/layout/footer.links.ejs`) %>
    <script>
      // type=isvm 일 때 처리  (회원가입 양식과 똑같아 조건부 처리 하였습니다.)
      (function () {
        var params = new URLSearchParams(location.search);
        var isVM = params.get('type') === 'isvm';
        if (!isVM) return;
        var titleEl = document.querySelector('.join-complete .vits-empty-state-title');
        var descEl = document.querySelector('.join-complete .vits-empty-state-desc');
        var btnEl = document.querySelector('.join-complete-btn-login .text');
        var contactSection = document.getElementById('auth-contact-section');
        if (titleEl) titleEl.textContent = '전환 신청 완료';
        if (descEl) descEl.innerHTML = 'ISVM 전환 신청이 정상적으로 접수되었습니다.<br />담당자 승인 완료 후 ISVM 서비스 이용 가능합니다.';
        if (btnEl) btnEl.textContent = 'ISVM 이동하기';
        if (contactSection) contactSection.remove();
        document.title = 'ISVM 계정전환 완료';
      })();
    </script>
  </body>
</html>
